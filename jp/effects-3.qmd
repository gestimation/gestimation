---
title: "When Odds Ratios Approximate Risk Ratios—and When They Fail"
description: "「オッズ比よりオッズ比の平方根の方がよい一面もあるんだ」父は疫学の常識を揺さぶります。"
tags:
  - Bias
  - Effect measure
  - Observational study
format:
  html:
    toc: true
---

::: {.hero-header}
![](../image/father-daughter.png){.hero-header-img}
:::

# Effects and Time III − When Odds Ratios Approximate Risk Ratios—and When They Fail

::: {.serif-block .text-right}
Keywords: bias, effect measure, observational study
:::

------------------------------------------------------------------------

### リスク比とオッズ比って、結局同じ？

::::::::::::::::::::::::::::::::: dialogue
::: voice-daughter
私「お父さんの話を聞いててね、国試の勉強してたときのことを思い出したよ。保健統計だったか、疫学だったかの問題で、オッズ比の計算問題を解いたことがあったなあ。リスク比とオッズ比って結局同じ使い方をするの？みたいな」
:::

::: voice-father
お父さん「ああ、この前、膵がんの数値例で計算したとき、リスク比とオッズ比はどちらも3倍だったね。でも、これはたまたま。もっと正確にいうと、膵がんのように、**リスクの値が低いときはリスク比とオッズ比は近い値**になるんだ。ほら、リスク比とオッズ比の数式を見比べてよ。リスク比とオッズ比の違いって、式の分母に$1-\pi_1$と$1-\pi_2$があるかどうかでしょ。リスクが低いと、ここがほとんど1になるから、リスク比とオッズ比の差がなくなる」
:::

::: voice-daughter
私「まあ、私も論文読むとき別に区別してないけど」
:::

::: voice-father
お父さん「えーっと、状況によってはそれはよくない。疾患や対象集団によっては、リスクが低いときばかりじゃないからね。最近の論文だと、オッズ比をリスク比の代わりに使うなら、そのままの値じゃなくて、**オッズ比の平方根**を報告した方がいいっていう説もある（VanderWeele 2017）」
:::

::: voice-daughter
私「なにそれ、またお作法が増えたの？」
:::

::: voice-father
お父さん「お作法があるわけじゃないんだけど、オッズ比をリスク比の近似として使うことがあるからね。そういうときに限っては、オッズ比の代わりにオッズ比の平方根でもいいんじゃないっていう主張かな。どっちにしても近似バイアスはそれなりに残るんだけど。リスク比とオッズ比の使い分けの話をするときは、まずは具体的な計算結果をみた方がわかりやすいと思う」
:::
::::::::::::::::::::::::::::::::: 

::: {.callout-note appearance="simple" title="リスク比はオッズ比の近似か"}

表1は、2群の疾患リスク$\pi_1$と$\pi_2$の数値を0.1から0.9まで動かして、リスク比、オッズ比、オッズ比の平方根（square root of OR）を計算したものです。

$RR=\frac{\pi_1}{\pi_2}$

$OR=\frac{\pi_1/(1-\pi_1)}{\pi_2/(1-\pi_2)}$

$SOR=\sqrt{\frac{\pi_1/(1-\pi_1)}{\pi_2/(1-\pi_2)}}$

$\pi_1$と$\pi_2$のどちらかが0.2を超えると、リスク比とオッズ比はまったく違う値になることがわかります。リスク比とオッズ比が1より小さいとき、オッズ比はリスク比より必ず小さくなります。また、$\pi_1$と$\pi_2$が0.2～0.7の範囲であれば、リスク比とオッズ比の平方根は、高々0.11しか違いません。
:::


::: panel-tabset
### 疾患リスク0.1～0.4

表1. 2群の疾患リスクを0.1から0.9まで動かしたときのリスク比（RR）、オッズ比（OR）、オッズ比の平方根（SOR）

|     | 0.1 | 0.2 | 0.3 | 0.4 | 0.5 | 0.6 | 0.7 | 0.8 | 0.9 |
|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|
| 0.1 |RR=1 | 0.50| 0.33| 0.25| 0.20| 0.17| 0.14| 0.13| 0.11|
|     |OR=1 | 0.44| 0.25| 0.17| 0.11| 0.07| 0.05| 0.03| 0.01|
|     |SOR=1| 0.67| 0.51| 0.41| 0.33| 0.27| 0.22| 0.17| 0.11|
| 0.2 |     |RR=1 | 0.67| 0.50| 0.40| 0.33| 0.29| 0.25| 0.22|
|     |     |OR=1 | 0.58| 0.38| 0.25| 0.17| 0.11| 0.06| 0.03|
|     |     |SOR=1| 0.76| 0.61| 0.50| 0.41| 0.33| 0.25| 0.17|
| 0.3 |     |     |RR=1 | 0.75| 0.60| 0.50| 0.43| 0.38| 0.33|
|     |     |     |OR=1 | 0.64| 0.43| 0.29| 0.18| 0.11| 0.05|
|     |     |     |SOR=1| 0.80| 0.65| 0.53| 0.43| 0.33| 0.22|
| 0.4 |     |     |     |RR=1 | 0.80| 0.67| 0.57| 0.50| 0.44|
|     |     |     |     |OR=1 | 0.67| 0.44| 0.29| 0.17| 0.07|
|     |     |     |     |SOR=1| 0.82| 0.67| 0.53| 0.41| 0.27|

### 疾患リスク0.5～0.8

表1. 2群の疾患リスクを0.1から0.9まで動かしたときのリスク比（RR）、オッズ比（OR）、オッズ比の平方根（SOR）

|     | 0.1 | 0.2 | 0.3 | 0.4 | 0.5 | 0.6 | 0.7 | 0.8 | 0.9 |
|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|
| 0.5 |     |     |     |     |RR=1 | 0.83| 0.71| 0.63| 0.56|
|     |     |     |     |     |OR=1 | 0.67| 0.43| 0.25| 0.11|
|     |     |     |     |     |SOR=1| 0.82| 0.65| 0.50| 0.33|
| 0.6 |     |     |     |     |     |RR=1 | 0.86| 0.75| 0.67|
|     |     |     |     |     |     |OR=1 | 0.64| 0.38| 0.17|
|     |     |     |     |     |     |SOR=1| 0.80| 0.61| 0.41|
| 0.7 |     |     |     |     |     |     |RR=1 | 0.88| 0.78|
|     |     |     |     |     |     |     |OR=1 | 0.58| 0.26|
|     |     |     |     |     |     |     |SOR=1| 0.76| 0.51|
| 0.8 |     |     |     |     |     |     |     |RR=1 | 0.89|
|     |     |     |     |     |     |     |     |OR=1 | 0.44|
|     |     |     |     |     |     |     |     |SOR=1| 0.67|
:::

::::::::::::::::::::::::::::::::: dialogue
::: voice-daughter
私「この表、いっぱい数字があって見方がわからないな。対角のところがRR=OR=SOR=1になるのは、$\pi_1$と$\pi_2$が同じ値だからだよね」
:::

::: voice-father
お父さん「ごめんごめん、説明が必要だよね。RRに近いのは、ORとSORのどっちかをみてほしいんだ。さっき話した通り、古い教科書ではオッズ比はリスク比の近似だって教えるけど、実際にいろんな組み合わせで計算すると、そうならないことがある。っていうか、表をみるとRRとOR、結構ずれてない？むしろオッズ比の平方根をとった方がいいんじゃないかって話」
:::

::: voice-daughter
私「平方根なんて論文書くとき勝手に計算していいのかね」
:::

::: voice-father
お父さん「リスク比を推定することが目的なら、オッズ比の平方根を論文で示してもいいかもって気はする。推定方法の一種として、論文のMethodsで説明していればね。でも、よっぽど特殊な状況じゃなければ、リスク比を計算するのが素直だと思うけど」
:::

::: voice-daughter
私「そう？私の周りではオッズ比の方がよく聞くけど？まあ胃がんや大腸がんの研究だと、ハザード比をダントツよく使うけど」
:::

::: voice-father
お父さん「オッズ比が出てくるのは疫学の教科書とか国試対策でしょ。あれはケース・コントロール研究を教える都合ってだけだよ。リスクって疾患や死亡が起きる確率そのものでしょ。その差や比を直接とったリスク差・リスク比が基本だって理解しとかないと、単なる暗記になっちゃう。ハザード比は、ハザード関数っていう時間の関数の理解がないと取扱注意だし、前回話したように、層別などの調整を行うとき、リスク比はとても扱いやすい指標だからね」
:::
::::::::::::::::::::::::::::::::: 

::: {.callout-note appearance="simple" collapse="true" title="ケース・コントロール研究とオッズ比"}

古典的なケース・コントロール研究は、コホートの中から疾患を発生したケースを特定し、疾患を発生しなかったものの中からコントロールを選択し、ケースとコントロールの曝露状況を比較する研究です。言い換えると、この研究デザインでは、一部の集団のみ（ケースとコントロールのみ）について、過去の曝露状況を調査します。そうすると、コホートの一部しか曝露状況がわからないから、曝露群・非曝露群のリスクの分母がわかりませんよね。そこで、リスク比の代わりに「曝露オッズ比」を求める、と疫学の教科書には書かれています。ただし、古典的なケース・コントロール研究とは違い、最近ではデータベースが利用できたり、研究デザインを工夫していたりするため、ケース・コントロール研究といってもリスク比を計算できる状況も増えてきています。
:::

::: {.callout-note appearance="simple"  title="このエピソードに関係するクイズです"}

リスク比とオッズ比が1より小さいとき、オッズ比はリスク比より必ず小さくなるといいました。それでは、2群をオッズ比で比較するときのp値は、リスク比で比較するときのp値より、小さくなる（つまり有意になりやすく、検出力が向上する）のでしょうか。ただし、実際にデータから計算されたp値だと、検定の種類の選び方に影響されるし、偶然性も入ります。理論上の期待値がどうなるか考えてみてください。

1.  オッズ比のp値は、リスク比のp値より、期待値の上で小さい
2.  オッズ比のp値は、リスク比のp値より、期待値の上で大きい
3.  オッズ比のp値は、リスク比のp値と、期待値の上で等しい
:::

::: {.callout-note appearance="simple" collapse="true" title="答えはこちら"}
-   **正解は3です**

リスク比やオッズ比は最尤法で推定することが普通です。最尤法を用いるとき、検定の性能（検出力など）は、指標の選び方によらず一定、ということが統計学で知られています。直感的な説明をすると、“同じデータから同じ情報を引き出している”から、どの指標を使って差を推定しても、検定としての力は変わらないのです。
:::

### 文献

- VanderWeele T. On a square-root transformation of the odds ratio for a common outcome. Epidemiology 2017;28(6):e58–e60

### 次のエピソードとRスクリプト

- [From Risk and Rate to Survival and Hazard](effects-4.html)
- [effects.R](../from-coffee-chat-to-r/effects.R)

::: {.callout-note appearance="simple" collapse="true" title="他のエピソードはこちら"}

**このシリーズのエピソード**

- [Silent Confusions Hidden in Percentages](effects-1.html)
- [Who Is This Percentage About? Target Populations and Attributable Fractions](effects-2.html)
- [When Odds Ratios Approximate Risk Ratios—and When They Fail](effects-3.html)
- [From Risk and Rate to Survival and Hazard](effects-4.html)
- [A First Note on Cox Regression](effects-5.html)
- [After Cox Regression: A Case Study and R Demonstration](effects-6.html)

**過去のシリーズ**

- [Study Design I](study-design-1.html)
- [Frequentist Thinking I](frequentist-1.html)
- [Frequentist Experiments I](frequentist-4.html)

**用語集**

- [Statistical Terms in Plain Language](glossary.html)
:::