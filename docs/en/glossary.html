<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="A Conversation on Causality at Our Table. Glossary − Statistical Terms in Plain Language">

<title>Statistical Terms in Plain Language – Coffee and Research</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-dfb324f25d9b1687192fa8be62ac8f9c.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-FCK3LX51C6"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-FCK3LX51C6', { 'anonymize_ip': true});
</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Coffee and Research</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://gestimation.github.io/cifmodeling/"> 
<span class="menu-text">cifmodeling</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-a-conversation-on-causality-at-our-table-(en" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">A Conversation on Causality at Our Table (EN)</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-a-conversation-on-causality-at-our-table-(en">    
        <li>
    <a class="dropdown-item" href="../en/index.html">
 <span class="dropdown-text">Index</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../en/study-design-1.html">
 <span class="dropdown-text">Study design</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-a-conversation-on-causality-at-our-table-(jp" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">A Conversation on Causality at Our Table (JP)</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-a-conversation-on-causality-at-our-table-(jp">    
        <li>
    <a class="dropdown-item" href="../jp/index.html">
 <span class="dropdown-text">Index</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../jp/study-design-1.html">
 <span class="dropdown-text">Study design</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#glossary-statistical-terms-in-plain-language" id="toc-glossary-statistical-terms-in-plain-language" class="nav-link active" data-scroll-target="#glossary-statistical-terms-in-plain-language">Glossary − Statistical Terms in Plain Language</a>
  <ul class="collapse">
  <li><a href="#words-in-statistics" id="toc-words-in-statistics" class="nav-link" data-scroll-target="#words-in-statistics">Words in Statistics</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content column-page-left" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Statistical Terms in Plain Language</h1>
</div>

<div>
  <div class="description">
    A Conversation on Causality at Our Table. Glossary − Statistical Terms in Plain Language
  </div>
</div>


<div class="quarto-title-meta column-page-left">

    
  
    
  </div>
  


</header>


<div class="hero-header">
<p><img src="../image/father-daughter.png" class="hero-header-img img-fluid"></p>
</div>
<section id="glossary-statistical-terms-in-plain-language" class="level1">
<h1>Glossary − Statistical Terms in Plain Language</h1>
<div class="serif-block text-right">
<p>Keywords: causal model, effect-measures, generalized linear model, probability model, p-value, scientific writing, study design. survival/competing-risk</p>
</div>
<hr>
<section id="words-in-statistics" class="level3">
<h3 class="anchored" data-anchor-id="words-in-statistics">Words in Statistics</h3>
<div class="dialogue">
<div class="voice-daughter">
<p>Me: “Dad, there’s a paper we’re doing a journal club on in my department right now, and I’m struggling with the nuance of some of the terminology. When you talk, a lot of statistical terms come up. To be honest, some of them still don’t feel very real to me. Would you mind rephrasing statistical terms in more everyday language?”</p>
</div>
<div class="voice-father">
<p>Dad: “I’ve got some time today, so sure. Let’s try a few. I’ll go through them in alphabetical order.”</p>
</div>
</div>
<p><strong>Aalen-Johansen method</strong></p>
<p>A method to estimate a cumulative incidence curve in competing risks analysis</p>
<p><strong>Alpha error</strong></p>
<p>An error where we conclude that a treatment is effective, or that an association exists, when in fact it does not. This is also called a false positive. In medical research, it is customary to control this error at 5% or less using p-values or similar criteria.</p>
<p><strong>Attributable fraction</strong></p>
<p>A measure obtained by transforming risks or incidence rates to express the proportion of disease occurrence in a specific population that can be attributed to exposure to a particular risk factor. Multiple definitions exist.</p>
<p><strong>Beta error</strong></p>
<p>A key quantity in sample size planning. It is the probability of concluding that a truly effective treatment has no effect. When large amounts of data can be collected and beta error is low, the study is said to have high power.</p>
<p><strong>Bias</strong></p>
<p>In general usage, bias refers to a distorted perspective or behavior. In statistics, it refers to the tendency of an estimator to deviate from the true value (the estimand), or the magnitude of that deviation. Once bias is detected after data collection, it is often difficult to correct.</p>
<p><strong>Biostatistician</strong></p>
<p>A statistical specialist working in medicine or life sciences. Biostatisticians belong to professional societies and communities distinct from those of bioinformaticians, data scientists, or epidemiologists. In a narrow sense, the term refers to professionals specializing in clinical trials, for which formal certification systems exist—though the “bio” prefix often makes the role seem less clear.</p>
<p><strong>Censoring</strong></p>
<p>In survival analysis, a situation in which observation is interrupted at a certain point in time, so that we only know that the event of interest would have occurred after that point.</p>
<p><strong>Competing risk</strong></p>
<p>An event that, once it occurs, prevents observation of the event of interest—for example, death from an accident when studying death from cancer.</p>
<p><strong>Confounding</strong></p>
<p>A type of bias that must be considered when comparing groups.</p>
<p><strong>Cox regression</strong></p>
<p>A statistical method developed by Professor Cox in 1972 that became widely used. It is a type of regression model, but not a generalized linear model. It treats survival time as the outcome and is used to summarize differences in survival curves via hazard ratios or to examine associations between survival time and various factors.</p>
<p><strong>Design</strong></p>
<p>Traditionally, “design” in statistics referred to experimental design, but the term has expanded to include study planning and the elements decided at that stage. Randomized trials, surveys, and cohort studies are all types of study design.</p>
<p><strong>Directed acyclic graph (DAG)</strong> In this work, a model refers to an abstract way of viewing data. A DAG is one a structural causal model that represents causal relationships across variables using arrows.</p>
<p><strong>Effect size</strong></p>
<p>The magnitude of a treatment effect or the difference between treatments. In sample size planning, an effect size must be specified, which is paradoxical because the study is often conducted precisely to learn that value. This dilemma is sometimes mocked as “the smallest difference that can be calculated backward from the sample size.”</p>
<p><strong>Estimand</strong></p>
<p>In clinical trials, adverse events or treatment discontinuation after treatment initiation can make it unclear what treatment effect is actually being evaluated. An estimand is a statistical term that clarifies exactly what quantity the study aims to estimate. The ICH E9 guideline requires that estimands be specified at the planning stage of a clinical trial.</p>
<p><strong>Fine–Gray model</strong></p>
<p>A statistical method developed by Professor Fine in 1999 as an extension of Cox regression. It is a regression model for survival data with competing risks.</p>
<p><strong>Generalized linear model</strong></p>
<p>A class of “regression models” that includes regression analysis, analysis of variance, logistic regression, and related methods. In statistical software, it is often abbreviated as “GLM.”</p>
<p><strong>Hazard ratio</strong></p>
<p>A measure derived from Cox regression, used to compare survival curves.</p>
<p><strong>Information bias</strong></p>
<p>A type of bias that must be considered when collecting information.</p>
<p><strong>Kaplan-Meier method</strong></p>
<p>A method to estimate a survival curve in survival analysis</p>
<p><strong>Logistic regression</strong></p>
<p>A statistical method used to examine the association between the probability of an event and other variables. It is a type of regression model used when the outcome is binary. Taking the exponential of the regression coefficient yields an odds ratio.</p>
<p><strong>One-sided p-value</strong></p>
<p>A p-value used when interest lies only in one direction of an association—either positive or negative. In most situations, however, a two-sided p-value is preferred.</p>
<p><strong>Probability model</strong> In this work, a model refers to an abstract way of viewing data. A probabilistic model is one that assumes what kind of probability distribution data are generated from.</p>
<p><strong>Proportion</strong></p>
<p>A measure representing the fraction of a whole. It is commonly used to summarize binary or categorical data. Because it is calculated by dividing a count by a count, the units cancel out and it is dimensionless.</p>
<p><strong>Proportional hazards assumption</strong></p>
<p>The assumption that the speed at which events such as death or disease progression occur differs between groups by a constant factor, and that this relationship remains unchanged over time.</p>
<p><strong>p-value</strong></p>
<p>A number that many readers look at first when examining study results. It is used to assess statistical significance—that is, whether an observed association exceeds what could be explained by random variation.</p>
<p><strong>Randomization</strong></p>
<p>The process of randomly assigning participants to interventions—such as a new treatment versus standard care—when comparing intervention effects. This is one way to reduce bias.</p>
<p><strong>Rate</strong></p>
<p>A measure of the speed at which events occur over time. In epidemiology, rates are often calculated using person-time (number of events divided by person-years), giving units of 1/year (or more generally, 1/time).</p>
<p><strong>Ratio</strong></p>
<p>A measure obtained by dividing one quantity by another. Proportions and rates are types of ratios.</p>
<p><strong>Regression model</strong></p>
<p>A statistical method used to examine how one variable is related to others. Although often used interchangeably with “regression analysis,” the term “model” typically emphasizes the underlying mathematical or probabilistic formulation rather than the analytical procedure itself.</p>
<p><strong>Risk</strong></p>
<p>The probability that a disease will occur. Because risk depends on the population being studied, using risk values without context should be avoided.</p>
<p><strong>Rubin Causal Model</strong></p>
<p>In this work, a model refers to an abstract way of viewing data. The Rubin causal model defines causal effects using potential outcome variables, which represent what the outcome would have been for the same unit had the cause taken a different value. The term is sometimes used to denote a broader framework that includes assignment mechanisms and probability distributions; however, in this work, these components are not made explicit, as the focus is on the definition of causal effects.</p>
<p><strong>Sample size calculation</strong></p>
<p>The process of determining the scale of a study, such as the number of participants. By specifying quantities such as the effect size, alpha error, and beta error (or power), the required sample size can be calculated.</p>
<p><strong>Selection bias</strong></p>
<p>A type of bias that must be considered when choosing the study population.</p>
<p><strong>Surrogate endpoint</strong></p>
<p>When a clinically meaningful outcome cannot be obtained, a substitute endpoint may be used. For example, in cancer trials, response rate has often been used as a surrogate for overall survival, though it has been criticized for not necessarily reflecting true survival benefit.</p>
<p><strong>Survival curve</strong></p>
<p>A graph that displays time on the horizontal axis and the proportion of individuals surviving at each time point on the vertical axis. In many disease areas, such as oncology and cardiovascular medicine, study results are often presented as survival curves.</p>
<p><strong>Two-sided p-value</strong></p>
<p>A p-value used when interest lies in both positive and negative associations. In most cases, two-sided p-values are preferred over one-sided ones.</p>
<div class="dialogue">
<div class="voice-daughter">
<p>Me: “Seeing them all laid out like this, the curse words I saw in the paper are starting to look a bit more like human language.”</p>
</div>
<div class="voice-father">
<p>Dad: “Exactly. Once you understand the terminology, you can focus on the clinical questions and the data themselves.”</p>
</div>
</div>
<div class="callout callout-style-simple callout-note callout-titled" title="Differences among statistical terms">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Differences among statistical terms
</div>
</div>
<div class="callout-body-container callout-body">
<p>A survival curve is a formal technical term in statistics, but many other expressions with the same or similar meanings are used, such as survival function, survival rate, overall survival curve, and Kaplan-Meier curve. In fact, each has a slightly different meaning.</p>
<ul>
<li><p>Almost synonymous with survival curve Survival function</p></li>
<li><p>Similar meaning, but referring more to a value at a specific time point than to a curve Survival rate, survival probability, survival proportion</p></li>
<li><p>Specifying the statistical method used to estimate the survival curve Kaplan-Meier curve, Kaplan-Meier estimator, Kaplan-Meier estimate, Kaplan-Meier method</p></li>
<li><p>Specifying the type of endpoint Overall survival curve, disease-free survival curve, 5-year OS, 3-year DFS</p></li>
</ul>
<p>In statistics, the method used for estimation is called an estimator, the resulting value is an estimate, and the target quantity is the estimand. This distinction is important when writing papers: in the Methods section, Kaplan-Meier estimator is natural, whereas in the Results section, Kaplan-Meier estimate is often more appropriate. Instead of “estimator,” the expression “method” (e.g., Kaplan-Meier method) can also be used in a broader sense.</p>
<p>Finally, special attention should be paid to cumulative incidence curves and cumulative incidence functions. They are often mistaken for survival curves, but they are terms used specifically when competing risks are present and are carefully distinguished by statisticians. In technical terms, it is also referred to as the Aalen-Johansen curve, named after the statisticians. Simply flipping a survival curve upside down and calling it “cumulative” is a conventional expression, not a formal statistical term, and can lead to misunderstanding if not clearly distinguished from cumulative incidence curves.</p>
</div>
</div>
<div class="callout callout-style-simple callout-note callout-titled" title="Quiz related to this episode">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Quiz related to this episode
</div>
</div>
<div class="callout-body-container callout-body">
<p>The following four terms are not formal statistical terms, but they are often seen in clinical trial literature. Which of them cannot be considered incorrect?</p>
<ol type="1">
<li>Sample number</li>
<li>COX regression</li>
<li>OS curve</li>
<li><em>T</em>-test</li>
</ol>
</div>
</div>
<div class="callout callout-style-simple callout-note callout-titled" title="Answer">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Answer
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ul>
<li><strong>The correct answer is 3</strong> Some papers use “sample number” to mean sample size, but in clinical trials “sample number” would correspond to the number of groups, making this usage incorrect. Cox is a proper name, so only the first letter should be capitalized. “OS curve” can reasonably be interpreted as an overall survival curve, so it is not necessarily incorrect. “<em>T</em>-test” is sometimes used, but since it refers to a different statistical method from the <em>t</em>-test and is not used in clinical trials, it should be considered a typographical error.</li>
</ul>
</div>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/gestimation\.github\.io\/coffee-and-research");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>